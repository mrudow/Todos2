<h1>Todo List</h1>

<div id="task-creation-form">
  <%= form_for @todo, :url => { :action => "create" }, :remote => true do |f| %>
    
    <h2>New Item</h2>
    <p class="new todo">
      <%= f.text_field :content %>
      <%= f.select(:user_id, options_for_select([['Choose One', ''], ['Hunter', 0], ['Andy', 1], ['Michael', 2]], selected = @todo.user_id))%>
      <%= f.submit %>
    </p>
  <% end %>
</div>
<ul id="todos">
  <% @todos.each do |todo| %>
    <li id="todo_<%=todo.id%>">
      <%#= todo.id %>
      <%= best_in_place todo, :content %>
      <%= best_in_place todo, :completed, :type => :checkbox, :collection => ["Completed", "Not-Completed"] %>
      <%= best_in_place todo, :user_id, :type => :select, :collection=> [['', 'Choose One'], [0, 'Hunter'], [1, 'Andy'], [2, 'Michael']]%>
      <%#= select_tag todo.user_id, options_for_select([['Choose One', ''], ['Hunter', 0], ['Andy', 1], ['Michael', 2]], selected= todo.user_id), :onchange => "this.form.submit();" %>
      <%= todo.position %>
      <%= form_for(@todo) do |f| %>
        <%= f.select :position, options_for_select(Todo.dropdown_order, :selected => todo.position ) %>
      <% end %>
      <%= link_to 'Destroy', todo, :method => :delete %>
      <%#= link_to 'Destroy', todo, method: :delete, data: { confirm: 'Are you sure?' } %>
      <%#= todo.user_id %>
    </li>
  <% end %>
</ul>
